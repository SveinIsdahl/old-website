(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(15),i=a.n(c),s=a(6),d=(a(26),a(27),a(28),a(29),a(7)),u=a(9),o=a(10),j=a(16),l=a(17),b=Object(l.a)("getWeekNumber");function h(){var e=new Date;e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-Number(t))/864e5+1)/7)-1}var O=function(){function e(){Object(u.a)(this,e),Object.defineProperty(this,b,{value:h}),this.objectVal={},this.database=d.a.database(),this.user={}}return Object(o.a)(e,[{key:"pushToDatabase",value:function(e,t,a){var n=String((new Date).getFullYear());this.user.uid&&this.database.ref("calendar/"+this.user.uid+"/"+n).push({date:e,important:t,text:a})}},{key:"getData",value:function(e){var t=Object(s.a)(e,3),a=t[0],n=(t[1],t[2],[]),r=new Date,c=[];a&&(n=Object.entries(a[r.getFullYear()]).map((function(e){return e[1]})));var i=r.getDay()-1,d=new Date;d.setDate(d.getDate()-i-7-1);for(var u=function(e){for(var t={week:String(e)},r=function(e){d.setDate(d.getDate()+1);var r=d.getDate()+"."+(d.getMonth()+1);t["date"+e]=r,a&&n.forEach((function(a){String(a.date)===String(r)&&(t["text"+e]=a.text)}))},i=0;i<7;i++)r(i);c.push(t)},o=Object(j.a)(this,b)[b]()-1;o<53;o++)u(o);return c}},{key:"ref",get:function(){return this.database.ref("calendar/"+this.user.uid)}}]),e}(),f=a(12),p=a(21),v=a(20),x=a(4);function g(e){var t=Object(n.useState)(e.text),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(null),d=new Date,u=Object(n.useContext)(N);return Object(n.useEffect)((function(){e.text!==r&&u.pushToDatabase(e.date,!1,r)})),Object(x.jsxs)("div",{className:"day",children:[d.getDate()+"."+(d.getMonth()+1)===e.date?Object(x.jsxs)("div",{className:"dayTitle",style:{backgroundColor:"var(--todayBackground)"},children:[Object(x.jsx)("div",{children:e.leftText}),Object(x.jsx)("div",{children:e.date})]}):Object(x.jsxs)("div",{className:"dayTitle",children:[Object(x.jsx)("div",{children:e.leftText}),Object(x.jsx)("div",{children:e.date})]}),Object(x.jsx)("textarea",{ref:i,defaultValue:r,onBlur:function(){return c(i.current.value)}})]})}var m=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=[];e[0]=r.a.createElement(g,{date:this.props.date0,text:this.props.text0,leftText:this.props.week});for(var t=1;t<7;t++)e.push(r.a.createElement(g,{date:this.props["date"+t],text:this.props["text"+t]}));return Object(x.jsx)("div",{className:"weekContainer",children:e.map((function(e,t){return Object(x.jsx)(r.a.Fragment,{children:e},t)}))})}}]),a}(r.a.Component),D=a(18);a(14);function y(){return Object(x.jsxs)("div",{id:"ring",className:"lds-ring",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})}function k(e){var t=Object(n.useContext)(N),a=Object(D.a)(t.ref),r=Object(s.a)(a,3),c=r[0],i=r[1],d=r[2],u=t.getData([c,i,d]);return Object(x.jsx)("div",{id:"calendar",children:i?Object(x.jsx)(y,{}):u.map((function(e,t){return Object(n.createElement)(m,Object(f.a)(Object(f.a)({},e),{},{key:t}))}))})}a(32);var w=a(19);d.a.initializeApp({apiKey:"AIzaSyD_6EPzd56KtaDCm9k1Od-MorOcuxwMlMI",authDomain:"calendar-9d4d6.firebaseapp.com",databaseURL:"https://calendar-9d4d6.firebaseio.com",projectId:"calendar-9d4d6",storageBucket:"calendar-9d4d6.appspot.com",messagingSenderId:"103816515999",appId:"1:103816515999:web:07a5093add3e224a14adaa"});var C=d.a.auth(),T=new O,N=r.a.createContext(T);function S(){var e=Object(w.a)(C),t=Object(s.a)(e,1)[0];return T.user=t,Object(x.jsx)("div",{className:"App",children:t?Object(x.jsx)(N.Provider,{value:T,children:Object(x.jsx)(k,{})}):E()})}function E(){return Object(x.jsx)("button",{className:"button",onClick:function(){var e=new d.a.auth.GoogleAuthProvider;C.signInWithPopup(e)},children:"Sign in with Google"})}T.database=d.a.database(),i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(S,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b7c51231.chunk.js.map